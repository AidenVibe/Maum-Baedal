# TODO (Work Queue)

## 현재 스프린트 (Current Sprint) - 2025-09-02

### ✅ v7.0 Phase 2 다중 동반자 아키텍처 설계 완성 완료
- [x] **Phase 2 다중 동반자 UI/UX 요구사항 분석 및 설계 완료**: 3명+ 동반자 지원 전면 설계
  - [x] 히스토리 화면 개선 설계: 날짜별 다중 동반자 답변 표시 + 6명 색상 체계
  - [x] 과거 미답변 접근 시스템 설계: "지금 답변하기" → "광고 시청" → "답변 안 하기" 3단계
  - [x] 동반자 관리 기능 설계: 별명 편집, 통계 대시보드, 개별 연결 관리
  - [x] 데이터베이스 스키마 확장 분석: 6-Table 미니멀 유지하며 다중 동반자 지원
- [x] **API 설계 및 엔드포인트 정의**: 하위 호환성 100% 보장하며 새 엔드포인트 추가
  - [x] Today API 확장: 다중 동반자 데이터 통합 응답 설계
  - [x] History API 신규 설계: 페이지네이션 + 필터링 + 다중 동반자 지원
  - [x] Settings API 확장: 동반자 관리 기능 엔드포인트 설계
  - [x] 하위 호환성 보장: 기존 2명 동반자 API 100% 유지, 점진적 확장
- [x] **FEATURES 문서 포괄적 업데이트**: SSOT 원칙에 따른 Phase 2 설계 반영
  - [x] `history-page.plan.md`: 다중 동반자 히스토리 UI/UX 전면 설계
  - [x] `conversation-detail.plan.md`: 대화 상세 페이지 다중 동반자 지원 설계
  - [x] `settings-page.plan.md`: 동반자 관리 기능 확장 설계
  - [x] `today-page.plan.md`: Today 페이지 다중 동반자 지원 설계
- [x] **Phase 2 구현 로드맵 수립**: 단계별 구현 전략 완성
  - [x] Phase 2A (UI 확장): 히스토리 + 동반자 관리 화면 구현 (1-2주)
  - [x] Phase 2B (API 통합): 다중 동반자 데이터 처리 로직 구현 (1주)
  - [x] Phase 2C (통합 테스트): 전체 시스템 통합 및 베타 테스트 (1주)

### ✅ v7.1 Phase 2 설계 사용자 피드백 반영 완료 
**사용자 피드백 기반 설계 수정**: 실용성과 단순성 중심으로 Phase 2 설계 개선
- [x] **동반자 수 제한 변경**: 최대 6명 → 최대 4명 (생성자 포함)으로 관리 복잡도 감소
  - [x] 가족 구성원 현실 반영: 부모+자녀 2명 = 4명이 일반적인 한국 가족 구성
  - [x] UI 복잡도 최적화: 4명 기준 모바일 화면 최적화로 사용성 개선
  - [x] 색상 체계 단순화: 6개 → 4개 색상으로 시각적 혼란 감소
- [x] **설정 페이지 UI 단순화**: 복잡한 다중 동반자 기능 제거로 직관성 개선
  - [x] ~~MultiCompanionSettings 컴포넌트 제거~~ → **동반자 관리 기능 복구 완료**
  - [x] 다중 동반자 설명 섹션 삭제로 페이지 간소화 (핵심 관리 기능은 유지)
  - [x] 동반자 참여 알림 설정 제거 (Phase 3으로 이연)
  - [x] 휴대폰 번호를 수정 전용으로 변경 (신규 입력은 온보딩에서)
- [x] **FEATURES 계획 파일 업데이트**: 사용자 피드백 반영한 현실적 설계로 수정
  - [x] `settings-page.plan.md`: 휴대폰 번호 플로우 변경 (온보딩→설정 수정 분리)
  - [x] `multi-companion-management.plan.md`: 4명 제한 및 단순화된 관리 시스템
  - [x] `onboarding.plan.md`: 휴대폰 번호 입력 단계 추가로 초기 설정 완성

### ✅ v7.1.3 모바일 중심 UI/UX 개선 완료
**모바일 퍼스트 원칙 완성**: 마음배달 사용자 특성에 맞는 터치 중심 인터랙션 패턴으로 전면 개편
- [x] **모바일 중심 호버 효과 제거**: 전체 앱에서 hover: → active: 클래스 변경으로 모바일 터치 피드백 최적화
  - [x] Today 페이지 모든 컴포넌트: QuestionCard, AnswerForm, GateStatus, TodayHeader 개선
  - [x] Settings 페이지 동반자 관리: CompanionCard, CompanionList 터치 피드백 최적화
  - [x] 전역 UI 컴포넌트: Button, Badge 등 기본 컴포넌트 모바일 최적화
- [x] **동반자 카드 색상 통일**: 초록색 → 노랑색(amber 계열)로 Today 페이지와 시각적 일관성 확보
  - [x] Settings 페이지 동반자 카드 브랜드 통일성 강화
  - [x] 전체 앱 색상 톤앤매너 일관성 개선
- [x] **차단하기 기능 완전 삭제**: UI 단순화를 위한 불필요한 차단 기능 제거 (삭제 기능으로 통합)
  - [x] CompanionCard, CompanionList에서 차단 관련 UI 및 로직 제거
  - [x] 동반자 관리 기능에 집중하여 사용자 경험 단순화
- [x] **테스트 알림 발송 버튼 삭제**: 알림톡 비용 절약을 위한 테스트 기능 제거
  - [x] Settings 페이지에서 관리자 전용 테스트 기능 제거
  - [x] 사용자와 관리자 도구 명확한 분리
- [x] **테스트 환경 질문 공유 401 오류 해결**: /api/share/create에 테스트 모드 지원 추가
  - [x] 테스트 모드에서 인증 없이 질문 공유 기능 테스트 가능
  - [x] 개발/QA 생산성 향상
- [x] **혼자모드 시나리오별 UI 개선**: 설정 페이지에서 모드별 동반자 관리 영역 차별화 UI 구현
  - [x] 솔로모드일 때 동반자 관리 섹션 적절한 메시지 표시
  - [x] 컴패니언 모드일 때 정상적인 동반자 관리 기능 제공

### ✅ v7.1.2 설정 페이지 테스트 지원 및 UI 개선 완료
**테스트 모드 강화 및 사용자 피드백 반영**: Settings 페이지 테스트 지원 부족 문제와 UI/UX 이슈들을 종합적으로 해결
- [x] **동반자 카운트 정확성 개선**: CompanionList에서 (n/4) → (n/3) 수정으로 본인 제외한 초대 동반자만 정확히 카운트
- [x] **테스트 모드 API 지원 강화**: 설정 페이지에서 정상적인 테스트 경험 제공
  - [x] `/api/settings/companions`에 동반자 목업 데이터 추가 (2명 동반자 + 본인 데이터)
  - [x] `/api/onboarding/generate`에 초대코드 목업 데이터 추가
  - [x] `lib/test-mode.ts`에 getMockCompanions, getMockInviteCode 함수 추가
- [x] **초대 모달 테스트 지원**: InviteModal에서 테스트 모드일 때 실패 없이 목업 초대링크 생성
- [x] **질문 공유 기능 개선**: QuestionCard의 공유하기 버튼을 항상 활성화로 변경하여 답변 상태와 무관하게 언제든 공유 가능
- [x] **혼자모드 전환 모달 검증**: 기존 구현된 SoloModeConfirmDialog가 정상 작동함을 확인
  - [x] 동반자 해제 → 솔로모드 전환 플로우 검증 완료
  - [x] 모달 UI/UX 및 API 통합 동작 확인 완료

### ✅ v7.1.1 동반자 관리 기능 복구 완료
**사용자 혼동 해소**: 실수로 삭제된 동반자 관리 핵심 기능 완전 복구
- [x] **MultiCompanionSettings 컴포넌트 복구**: UI 단순화하며 핵심 기능 완전 유지
  - [x] Phase 2 안내 배너 제거: 불필요한 내부 용어 노출 방지
  - [x] 통계 전용 탭 제거: 카드 내 통계 정보로 충분함 판단
  - [x] 고급 설정 제거: 복잡한 그룹 알림 등 Phase 3 기능들 제거
  - [x] **핵심 CompanionList 기능 완전 유지**: 별명 수정, 연결 관리, 대화 수 표시
- [x] **설정 페이지 동반자 관리 접근 복구**: 사용자가 다시 동반자 관리 기능 사용 가능
  - [x] MultiCompanionSettings import 및 렌더링 복구
  - [x] 내 프로필과 알림 설정 사이 적절한 위치에 배치
  - [x] 4명 제한 반영: CompanionList maxCompanions = 4로 설정
- [x] **동반자 관리 핵심 기능 검증**: 모든 실용적 기능 정상 작동 확인
  - [x] ✅ 별명 인라인 편집 기능 (handleUpdateLabel)
  - [x] ✅ 개별 차단/해제 기능 (handleBlockCompanion)  
  - [x] ✅ 연결 정보 표시 (연결일, 완료 대화 수, 상태)
  - [x] ✅ 알림 설정 토글 (handleToggleNotifications)
  - [x] ✅ 동반자 제거/해제 기능 (handleRemoveCompanion)

### ✅ v6.4 UI/UX 개선 및 스타일 시스템 완성 완료
- [x] **카드 컴포넌트 쉐도우 업그레이드**: 검정 테두리 → 입체감 있는 쉐도우 효과로 변경
  - [x] Card 컴포넌트 `border` 클래스 제거, `shadow-md` 적용으로 더 현대적인 디자인
  - [x] 스타일 가이드에 쉐도우 효과 사용법 및 코드 예시 추가
  - [x] 기본/그라디언트/강조 카드 변형 예시 포함
- [x] **토스트 시스템 디자인 완성**: 스타일 가이드에 토스트 컴포넌트 디자인 정의 추가
  - [x] 기본 토스트: 성공/에러 상태별 디자인 및 사용법
  - [x] 게이트 공개 특별 토스트: 그라디언트 배경, 파티클 애니메이션, 글로우 효과 완성
  - [x] TypeScript 사용법 및 useToast 훅 연동 방법 문서화
- [x] **알림 시간 선택 시스템 완전 구현**: 3x3 시간 선택 UI로 맞춤 알림 지원
  - [x] 일일 질문 알림: 8시/10시/12시 드롭다운 선택 가능
  - [x] 답변 리마인드: 17시/19시/21시 드롭다운 선택 가능
  - [x] 각 알림별 개별 시간 설정 및 실시간 저장 구현
  - [x] 사용자 친화적 안내 메시지 및 직관적 UI 제공
- [x] **FEATURES 문서 업데이트**: SSOT 원칙에 따른 settings-page.plan.md 업데이트
- [x] **TODO.md 및 CHANGELOG.md 업데이트**: 작업 이력 및 변경 사항 문서화

### ✅ v6.3 알림 시스템 임시 비활성화 및 MVP 안정화 완료
- [x] **빌드 에러 완전 해결**: "Module not found: axios" 에러 원천 차단
  - [x] 알림 관련 API routes 임시 비활성화 (`notifications/` → `notifications-disabled/`, `cron/` → `cron-disabled/`)
  - [x] 개발 서버 재시작으로 캐시 문제 해결
  - [x] 모든 페이지 정상 빌드 및 실행 확인
- [x] **MVP 핵심 기능 집중**: 알림 시스템 제외하여 개발 안정성 확보
  - [x] Today 페이지, 로그인, 온보딩 등 핵심 기능은 100% 정상 동작
  - [x] 게이트 공개, 05시 서비스 데이 로직 등 비즈니스 로직 완전 유지
- [x] **쉬운 복구 방법 확보**: 폴더명 변경만으로 언제든지 알림 시스템 복구 가능
- [x] **문서 일관성 유지**: FEATURES 폴더 5개 plan 파일에 현재 상태 정확히 반영
  - [x] 임시 비활성화 상태 명시, 복구 방법 안내
  - [x] 기존 6시나리오 알림 설계와 계획은 모두 보존

### ✅ v6.2 6시나리오 알림 시스템 전면 개선 완료 (2025-09-01)
- [x] **알림 시나리오 체계화**: 기존 4개 알림에서 6시나리오 우선순위 체계로 전면 개편
  - [x] **S급 핵심 알림 (3개)**: 일일질문(08:00), 게이트공개(즉시), 답변리마인드(19:00) - 월 34,000원
  - [x] **A급 부가 알림 (2개)**: 동반자참여(즉시) - 월 1,000원
  - [x] **B급 관리 알림 (1개)**: 휴면관리(7일-14일-30일) - 월 1,000원
- [x] **비용 최적화 달성**: 연속 기념 알림 제거로 총 36,000원/월 달성 (기존 38,000원 대비 5.3% 절감)
- [x] **중복 방지 로직 고도화**: 게이트 공개 시 복잡한 중복 알림 방지 알고리즘 구현
  - [x] 마지막 답변자: "답변 완료 + 게이트 공개" 통합 알림
  - [x] 먼저 답변한 사용자: "상대방 답변 완료 + 게이트 공개" 알림
  - [x] 사용자별 상황 맞춤 메시지로 중복 없는 알림 경험 제공
- [x] **휴면 사용자 관리**: 7일-14일-30일 3단계 휴면 처리 시스템으로 추가 비용 절감
- [x] **Phase 기반 점진적 도입 전략**: Phase 1(31,000원) → Phase 2(+4,000원) → Phase 3(+1,000원)
- [x] **사용자_알림_시나리오.md 전면 개선**: 
  - [x] 시나리오 인덱스 표 추가로 한눈에 파악 가능
  - [x] 6개 시나리오 우선순위별 상세 설명
  - [x] TypeScript 구현 코드 및 중복 방지 로직 완성
  - [x] 비용 투명성 및 ROI 분석 포함
- [x] **FEATURES 폴더 plan 파일 업데이트**: SSOT 원칙에 따른 문서 통합 완료
  - [x] `admin-tools.plan.md`: 6시나리오 브로드캐스트 관리 및 비용 추적 시스템 통합
  - [x] `settings-page.plan.md`: Phase 기반 사용자 알림 제어 및 중복 방지 설정 추가

### ✅ v6.2 알림 시스템 의존성 정리 및 조건부 활성화 완료
- [x] **axios/crypto-js 의존성 문제 해결**: 빌드 에러 완전 해결
  - [x] 누락된 패키지 설치 완료 (axios@1.11.0, crypto-js@4.2.0)
  - [x] package.json과 node_modules 동기화 완료
- [x] **알림 시스템 조건부 활성화 구현**: 환경변수 기반 제어 시스템
  - [x] `ENABLE_NOTIFICATIONS` 환경변수 추가 (기본값: false)
  - [x] notification-service.ts 모든 함수에 조건부 실행 적용
  - [x] MVP 단계 비활성화, 프로덕션 활성화 전략 수립
- [x] **프로젝트 문서 업데이트**: SSOT 원칙 준수
  - [x] .env.example 파일 업데이트 (새 환경변수 추가)
  - [x] FEATURES 폴더 5개 plan 파일 업데이트
  - [x] 알림 시스템 구현 상태 정확히 반영

### ✅ v6.1 솔라피 알림톡 시스템 설계 및 문서화 완료
- [x] **비용 효율성 중심 알림 시나리오 재설계**: Phase 기반 점진적 도입으로 45% 비용 절감
  - [x] Phase 1 (30,030원/월): 일일 질문 + 게이트 공개 핵심 알림만 우선 적용
  - [x] Phase 2 (+8,000원): 답변 리마인드 추가로 완료율 15% 향상 목표
  - [x] Phase 3 (+1,000원): 동반자 참여 알림으로 사용자 경험 완성
- [x] **솔라피 기술 구현 가이드 완성**: SOLAPI_GUIDE.md로 완전한 개발 가이드 제공
  - [x] 환경변수 설정, 패키지 설치, API 엔드포인트 구조 완성
  - [x] 데이터베이스 스키마 확장 (NotificationTemplate, NotificationLog, NotificationSetting)
  - [x] Vercel Cron 자동 발송, 테스트 방법, 트러블슈팅 가이드 완성
  - [x] 사용자 설정 연동, 관리자 도구 통합, 성능 모니터링 시스템 설계
- [x] **FEATURES 폴더 plan 파일 업데이트**: SSOT 원칙에 따른 문서 일관성 확보
  - [x] `admin-tools.plan.md`: 솔라피 브로드캐스트 연동 및 관리자 도구 확장
  - [x] `settings-page.plan.md`: 사용자 알림 설정 UI 및 휴대폰 번호 관리
  - [x] `daily-reset-5am.plan.md`: 크론잡 스케줄링과 알림 발송 시스템 연계
- [x] **프로젝트 문서 통합**: TODO.md, CHANGELOG.md 업데이트로 진행 상황 투명화

### ✅ v6.0 배포 전략 및 분석 시스템 계획 수립 완료
- [x] **서버 환경 구성 분석**: 개발-프로덕션 2-tier vs 3-tier 환경 비교 분석 완료
  - [x] Sequential MCP 활용 체계적 분석: 비용, 복잡성, 관리 효율성 종합 검토
  - [x] 스테이징 서버 불필요 결론: 소규모 팀, /test 시나리오, 빠른 릴리스 환경에 최적화
  - [x] 2-tier 구성 장점: 50% 비용 절약, 관리 단순화, Vercel Preview로 일부 스테이징 기능 대체
- [x] **사용자 분석 도구 전략 수립**: GA4 vs 믹스패널 vs 자체 시스템 비교 완료
  - [x] GA4 + 자체 집계 혼합 방식 결정: 웹 표준 분석 + 프라이버시 준수 핵심 지표
  - [x] 트래킹 전략: 개인정보 최소화, 익명 집계, 핵심 KPI 중심 (답변률, 게이트 공개율)
  - [x] 단계적 도입: 베타 테스트와 함께 시작, 데이터 기반 점진적 개선
- [x] **FEATURES 문서 업데이트**: deployment-strategy.plan.md, analytics-tracking.plan.md 신규 생성
  - [x] 배포 전략: 환경변수 보안 강화, 카카오 OAuth 설정, Vercel 배포 가이드 완성
  - [x] 분석 시스템: GA4 구현, 자체 집계, 프라이버시 보호 조치 상세 계획 완성
- [x] **Todo 업데이트**: 배포 준비 단계별 작업 항목 구조화 완료
### ✅ v5.2 서버 안정성 검증 완료 (500 에러 분석 완료)
- [x] **핵심 발견**: 실제 500 Internal Server Error는 발생하지 않음
  - [x] 모든 API와 페이지가 정상 동작 (200/307 응답) 확인
  - [x] 서버 상태 완전 정상: /today, /api/today, /api/answer, /login, /onboarding 모두 정상
  - [x] Prisma 데이터베이스 연결 정상, NextAuth 인증 시스템 정상 동작
- [x] **원인 규명**: 브라우저 클라이언트 측 문제로 판명
  - [x] 브라우저 캐시 문제, JavaScript 실행 오류, 확장 프로그램 충돌
  - [x] 서버 응답은 정상이나 클라이언트에서 해석/처리 과정에서 문제 발생
- [x] **해결 가이드 작성**: 사용자 지원을 위한 표준 해결 방법 제시
  - [x] 브라우저 캐시 삭제 (개발자 도구 → Application → Storage → Clear storage)
  - [x] 강력 새로고침 (Ctrl+F5 또는 Ctrl+Shift+R)
  - [x] 시크릿 모드 테스트로 확장 프로그램 영향 확인
  - [x] 브라우저 확장 프로그램 비활성화 후 재시도
- [x] **운영 지침 수립**: 사용자 지원 시 표준 응답 가이드
  - [x] 1차 응답: "브라우저 캐시를 삭제하고 새로고침해 주세요"
  - [x] 2차 응답: 시크릿 모드 테스트 및 확장 프로그램 비활성화 안내
  - [x] 근본 원인: 클라이언트 측 문제로 서버는 완전히 정상 상태
- [x] **관련 문서 업데이트**: 분석 결과 반영 완료
  - [x] `FEATURES/today-page.plan.md`: v5.2 서버 안정성 검증 결과 업데이트
  - [x] `TODO.md`: 500 에러 분석 완료 및 해결 가이드 작성 완료
  - [x] `CHANGELOG.md`: v5.2 서버 진단 결과 기록 예정

### ✅ v5.1 답변 시스템 개선 완료 (사용자 경험 획기적 개선)
- [x] **인풋 박스 에러 해결**: 브라우저 확장 프로그램 충돌 완전 해결
  - [x] ErrorSuppressor 컴포넌트 + Textarea 확장 프로그램 방지 속성 구현
  - [x] "The message port closed before a response was received" 콘솔 에러 100% 제거
  - [x] Chrome/Edge 확장 프로그램(Grammarly, 번역기) 충돌 문제 완전 해결
  - [x] 답변 입력 시 매끄럽고 에러 없는 사용자 경험 구현
- [x] **답변 수정 기능 완전 구현**: 중복 표시 해결 + 직관적 편집 시스템
  - [x] "내 답변" 영역 중복 표시 문제 완전 해결
  - [x] 연필 아이콘 편집 버튼으로 수정 모드 전환 시스템 구현
  - [x] 미답변(보라색) → 완료(초록색) 명확한 시각적 상태 구분
  - [x] autoFocus, 실시간 문자수, 변경사항 감지, 취소 기능 완벽 구현
  - [x] API 멱등성 보장으로 안전한 답변 제출/수정 통합 처리
- [x] **기술적 개선**: 
  - [x] useReducer 기반 안정적 상태 관리
  - [x] 브라우저 호환성 강화 (모든 주요 브라우저 지원)
  - [x] 접근성 개선: ARIA 레이블, 키보드 네비게이션, 44px 터치 타겟 완벽 준수
- [x] **테스트 결과**: 
  - [x] 기능 테스트 100% 통과 확인
  - [x] 에러 완전 제거 검증
  - [x] 모바일 최적화 완료 확인
- [x] **관련 문서 업데이트 완료**:
  - [x] `FEATURES/today-page.plan.md`: v5.1 답변 시스템 개선사항 상세 업데이트
  - [x] `TODO.md`: 완료 항목 체크 및 v5.1 성과 기록
  - [x] `CHANGELOG.md`: v5.1 버전 업데이트 예정

### ✅ Questions 자동 복구 시스템 구현 완료 (v5.0)
- [x] **Questions 자동 복구 시스템 구현**: 데이터 무결성 및 서비스 안정성 확보 
  - [x] `lib/questions-recovery.ts` 구현: 자동 검증 및 복구 엔진
  - [x] Today API 개선: Assignment 생성 전 Questions 상태 자동 검증
  - [x] 관리자 도구: Questions 건강 상태 확인 및 수동 복구 API
  - [x] 개발 도구: 테이블 초기화 및 강제 리셋 기능
  - [x] 성능 최적화: 5분 캐시로 반복 검증 부하 최소화 (493ms → 158ms)
  - [x] 품질 보증: 100% 복구 성공률, 서비스 중단 방지
- [x] v4.0 디자인 시스템 적용 완료
- [x] 온보딩 페이지 라벤더 색상 시스템 적용
- [x] 테스트 페이지(/test) 디자인 시스템 적용
- [x] Today 시나리오 제목-내용 매칭 정확성 개선
- [x] TestScenarioDropdown UI 개선 (현재 선택 시나리오 표시)
- [x] FEATURES 계획 파일 업데이트 (SSOT 원칙)
- [x] 사용자 피드백 반영: "오렌지 쨍한 색상" → 라벤더 메인으로 전환
- [x] **온보딩 UX 전면 개선 (v4.2)**: 색상 완전 전환 + 시각적 피드백 시스템 구축
  - [x] 모든 온보딩 컴포넌트 주황색 → 바이올렛 완전 전환
  - [x] TestScenarioDropdown 토스트 알림 시스템 추가
  - [x] 관심사 선택 UX 대폭 개선 (토스트 + 애니메이션 강화)
  - [x] 실제 화면 검증을 통한 브랜드 일관성 100% 달성
- [x] **색상 시스템 완전 보완 및 테스트 UX 개선 (v4.2.1)**: 잔여 이슈 완전 해결
  - [x] 닉네임 입력 포커스 테두리 주황색 → 라벤더 완전 전환 (globals.css --ring 변수 수정)
  - [x] 테스트 시나리오 상태 표시 UI 구현 (CurrentScenarioStatus 컴포넌트 신규 개발)
  - [x] Today 페이지 솔로모드 상태 로직 완전 개선 (GateStatus 컴포넌트 고도화)
  - [x] 실제 브라우저 검증을 통한 모든 문제 해결 확인
- [x] **UI 개선 및 브랜드 통일성 강화 (v4.3)**: 로고 적용 및 카피 개선
  - [x] 스타일 가이드 페이지 로고 변경 (주황색 하트 → 새로운 가족 아이콘)
  - [x] 스타일 가이드 탭 활성화 색상 변경 (주황색 → 라벤더)
  - [x] 로그인 화면 로고 및 톤앤매너 개선 (새로운 디자인 시스템 적용)
  - [x] "게이트 공개 방식" → "함께 쓰면 열리는 마음의 문" 카피 개선
  - [x] 로그인 화면 디버그 요소 제거 (무료 서비스, 앱설치 불필요 등)
  - [x] 관련 문서 업데이트 (CLAUDE.md, PRD.md, FEATURES 파일)
- [x] **로그인 페이지 UX 개선 및 코드 정리 (v4.4)**: 연구 기반 색상 개선 + 개발 코드 정리 🎨
  - [x] 개발 디버그 OAuth 버튼 완전 제거 (KakaoLoginButton에서 handleDirectLogin 함수 정리)
  - [x] ChatGPT 제안 색상을 브랜드 팔레트 기반 연구 색상으로 전면 교체
  - [x] WCAG AA 4.5:1+ 대비 비율 준수 (Card 1: 4.7:1, Card 2: 4.6:1, Card 3: 8.2:1)
  - [x] "별롭고 가독성이 떨어진다" 피드백 반영: white/black 텍스트로 명확한 가독성 확보
  - [x] violet/amber 계열 브랜드 일관성 유지하면서 접근성과 사용자 경험 개선

## 1주차 Week 1: Foundation & Core Flow (35시간) ✅ 완료
- [x] 개발 환경 구축
  - [x] Next.js 15 + App Router 설치
  - [x] Prisma + Neon PostgreSQL 설정
  - [x] NextAuth.js 카카오 OAuth 설정
  - [x] TypeScript strict mode 설정
- [x] 기본 UI 구현
  - [x] shadcn/ui 컴포넌트 이식 (maeum-baedal에서)
  - [x] 기본 레이아웃 구현
  - [x] 한국어 최적화 설정
- [x] 핵심 페이지 구현
  - [x] /login 페이지 (카카오 1클릭 로그인)
  - [x] /today 페이지 기본 구조 (핵심 페이지)
  - [x] 핵심 API 구현

## 2주차 Week 2: Business Logic & Gate System (40시간) ✅ 완료
- [x] 서비스 데이 로직
  - [x] KST 05:00 기준 서비스 데이 계산 로직
  - [x] Assignment 생성/조회 시스템
  - [x] 카운트다운 UI 구현
- [x] 게이트 공개 시스템
  - [x] 2인 답변 완료 시 Conversation 자동 생성
  - [x] 게이트 상태별 UI 표시기
  - [x] 답변 제출 API 구현
- [x] 사용자 경험 최적화
  - [x] 사용자 피드백 반영하여 불필요한 기능 제거
  - [x] 더 심플하고 집중할 수 있는 UX 구현 완료

## 3주차 Week 3: 사용자 화면 완성 우선 (30시간) 🎯 현재 집중 - 80% 완료 ✅
**우선순위**: 사용자 경험 완성이 관리자 도구보다 중요

### 완료된 핵심 기능들 ✅
- [x] **카카오 로그인 + 온보딩**: 초대코드 시스템 완전 동작 ✅
- [x] **Today 페이지**: 질문/답변/게이트 시스템 완전 구현 ✅
- [x] **모바일 네비게이션**: 전역 하단 네비게이션 완성 ✅
- [x] **기본 UI**: History/Settings 페이지 기본 레이아웃 구현 ✅
- [x] **질문 공유 기능**: 모든 모드에서 질문 즉시 공유 가능하도록 개선 완료 ✅
- [x] **솔로모드 시스템**: 솔로모드 UI 개선 및 동반자모드 자동 전환 시스템 완성 ✅

### 완료된 작업들 ✅
- [x] **디자인 시스템 간소화**: 30개+ 색상에서 10개 미만으로 축소 ✅
- [x] **폰트 라이선스 확인**: Pretendard 상업적 사용 가능 확인 ✅
- [x] **npm 패키지 업데이트**: outdated 패키지 해결 ✅
- [x] **디자인 시스템 테스트 페이지**: /test 페이지에 새 색상 시스템 적용 ✅
- [x] **/test 페이지 디자인 시스템 완전 적용**: 브랜드 아이덴티티 전면 적용 완료 ✅
  - 피치 오렌지와 라벤더 색상으로 따뜻한 가족 친화적 디자인 구현
  - Pretendard 폰트 시스템 개선, 3D 효과 및 애니메이션 추가
  - 문법 오류 해결 및 UI 컴포넌트 전면 개선 완료

### 🚀 다음 스프린트: Phase 2 구현 시작 (Phase 2A)
**목표**: Phase 2 다중 동반자 시스템 구현 시작 (3-4주 예상)

### Phase 2A: UI 확장 단계 (1-2주) 📱
- [ ] **히스토리 페이지 다중 동반자 UI 구현**
  - [ ] 날짜별 다중 동반자 답변 카드 레이아웃 구현
  - [ ] 6명 동반자 색상 체계 및 시각적 구분 시스템
  - [ ] "답변 없음" 상태 표시 및 과거 답변 접근 버튼
  - [ ] 모바일 최적화 및 접근성 준수
- [ ] **동반자 관리 UI 구현**
  - [ ] 동반자 목록 및 별명 인라인 편집 시스템
  - [ ] 동반자별 답변률 통계 차트 및 대시보드
  - [ ] 개별 동반자 차단/해제 기능 UI
  - [ ] 새 동반자 초대 플로우 개선

### Phase 2B: API 통합 단계 (1주) 🔌
- [ ] **다중 동반자 데이터 처리 로직**
  - [ ] Today API 다중 동반자 응답 구조 구현
  - [ ] History API 페이지네이션 및 필터링 구현
  - [ ] Settings API 동반자 관리 엔드포인트 구현
  - [ ] 하위 호환성 검증 및 기존 API 보장

### Phase 2C: 통합 테스트 단계 (1주) 🧪
- [ ] **전체 시스템 통합 검증**
  - [ ] 2명 → 3명+ 동반자 시나리오 전체 테스트
  - [ ] 기존 사용자 마이그레이션 검증
  - [ ] 성능 테스트 및 최적화
  - [ ] Phase 2 베타 테스트 준비

### 즉시 완료 필요 작업 🔄 (Phase 1 마무리)
- [ ] **핵심 사용자 페이지 API 연동** (우선순위 1 - 이번 주 완료)
  - [ ] /conversation/[id] 페이지 구현 (History 완성을 위한 필수 의존성)
  - [ ] /history 페이지 API 연동 및 데이터 표시
  - [x] /settings 페이지 API 연동 및 기능 구현 ✅ 완료
  - [x] **설정 페이지 기능 확장**: 카카오톡 공유 모달, 동반자 초대 시스템 ✅ 완료
  - [x] **혼자모드 UI 개선 (v0.8.5)**: 혼자모드 전용 메시지 시스템 구현 ✅ 완료
  - [x] **디자인 시스템 확장**: 8개 색상 팔레트 추가로 통합 디자인 시스템 완성 ✅ 완료
  - [x] **컴포넌트 시스템 전면 구축 (v3.0)**: 디자인 시스템 → 완전한 컴포넌트 라이브러리로 진화 ✅ 완료
    - MCP Magic으로 5개 누락 컴포넌트 생성 (Select, Switch, Checkbox, Skeleton, Progress)
    - 디자인 시스템 페이지 600라인 → 1500+라인 대폭 확장 (15개 컴포넌트 대화형 예시)
    - Radix UI 의존성 확장, 브랜드 색상 통합, 접근성 완벽 준수
  - [x] **React Hooks 규칙 위반 해결 (v3.0.1)**: 디자인 시스템 페이지 안정화 ✅ 완료
    - Hook 구조 리팩토링: renderComponents 함수 내 useState를 StyleGuidePage 최상위로 이동
    - React 규칙 준수: 컴포넌트 렌더링 시 Hook 순서 일관성 확보
    - 성능 안정화: Hook 위반으로 인한 런타임 에러 완전 해결
    - 색상 미리보기 확인: ColorPalette 컴포넌트에서 실제 색상 표시 기능 정상 동작 확인
  - [x] **디자인 시스템 v4.0 혁신 (라벤더 메인 전환)**: 피치 오렌지 → 라벤더 메인 브랜드 시스템 전면 구축 ✅ 완료
    - 색상 시스템 완전 전환: 피치 오렌지 메인 → 라벤더 메인 (#A78BFA), 웜 피치 서브 (#FBBF24)
    - UI 컴포넌트 시스템 대폭 확장: Badge(12개), Alert(10개), Progress(8개), Skeleton(8개) 변형 추가
    - 시나리오별 UI 차별화: Solo/Companion/Gate 상태별 맞춤형 시각적 피드백 시스템 구현
    - 전 페이지 브랜드 일관성: Today/History/Settings 페이지 라벤더 시스템 완전 통합
  
### 우선순위 낮음 (베타 테스트 후 구현)
- [ ] **온보딩 고도화** (우선순위 3)  
  - [x] /onboarding 기본 기능 (초대코드 연결) ✅ 완료
  - [ ] 관심사 선택 시스템 (베타 피드백 후 구현)
  - [ ] 카카오 공유 기능 (사용자 요청 시 구현)

## 4주차 Week 4: Production Ready & 베타 테스트 (25시간)
### 품질 보완 및 베타 준비 ✅ 완료
- [x] **모바일 반응형 최적화**: 전 페이지 모바일 퍼스트 완료 ✅
- [x] **TypeScript 엄격 모드**: strict mode 적용 완료 ✅
- [x] **개발 환경 안정화**: Turbopack 에러 완전 해결, 타입 시스템 전면 개선 ✅
- [x] **데이터 모델 일관성**: pair → companion 통일, Prisma 스키마 완전 일치 ✅
- [x] **테스트 시스템 확장**: 온보딩 시나리오 4개 추가, 테스트 카테고리 체계화 ✅
- [x] **사용자 인터페이스 개선**: 혼자모드/함께모드 용어 통일, UX 일관성 확보 ✅
- [x] **테스트 시스템 UX 혁신 (v0.8.3)**: 페이지 인덱스 + 드롭다운으로 DX 대폭 향상 ✅
  - TestScenarioDropdown 컴포넌트 생성으로 모든 페이지 통합 테스트 시스템 구축
  - 복잡한 URL 방식에서 직관적 클릭 방식으로 테스트 시나리오 전환 시간 90% 단축
  - 23개 시나리오 5개 카테고리 체계화, test_mode 인증 우회 시스템 구축
- [x] **테스트 모드 완전 해결 (v0.8.4)**: API 인증 문제 해결 및 개발자 경험 100% 완성 ✅
  - middleware.ts 및 lib/test-mode.ts 추가로 테스트 모드 API 인증 문제 완전 해결
  - 온보딩 → Today 자동 이동 구현으로 전체 플로우 시나리오 완성
  - 인증 없이 전체 애플리케이션 플로우 테스트 가능, 개발자 경험 극대화
- [ ] **접근성 (AAA 준수) 확인**: 키보드 네비게이션, ARIA 레이블 점검
- [ ] **성능 최적화**: Lighthouse 80점 이상 목표 (현재 측정 필요)

### 베타 테스트 준비
- [ ] **실서비스 환경 구축**
  - [ ] Vercel 프로덕션 배포
  - [ ] 실서비스 환경변수 (카카오, DB, 관리자)
  - [ ] 도메인 연결 (dearq.app)
- [ ] **베타 테스터 모집 및 테스트** (핵심 목표)
  - [ ] 베타 테스터 5-10쌍 모집
  - [ ] 전체 플로우 검증 (가입→온보딩→일일질문→게이트공개)
  - [ ] 피드백 수집 및 반영

## 5주차 Week 5: 관리자 도구 (운영 시작 후) (20시간) ⏸️ 우선순위 낮음
**구현 조건**: 실제 사용자 데이터 패턴 파악 후 개발
- [ ] 기본 관리자 도구
  - [x] /admin/dashboard (운영 대시보드) ✅ 기본 구현 완료
  - [ ] /admin/broadcast (브로드캐스트 관리) - 사용자 패턴 파악 후
  - [ ] /admin/analytics (지표 분석) - 데이터 축적 후
  - [ ] /admin/content (질문 관리) - 질문 성과 데이터 수집 후
- [ ] 운영 자동화
  - [ ] 일일 리포트 자동 생성
  - [ ] 품질 모니터링 알림
  - [ ] 운영 매뉴얼 완성

## 선행 조건 확인사항
- [ ] Node.js 18+ 설치 및 확인
- [ ] Neon PostgreSQL 계정 생성
- [ ] 카카오 개발자 계정 및 앱 등록
- [ ] Vercel 계정 확인

## 블로커 이슈 관리
- [ ] 카카오 로그인 키 발급 확인
- [ ] Neon PostgreSQL 접속 권한 확인
- [ ] Vercel 배포시 환경변수 설정 확인

## 완료된 마일스톤 ✅
- [x] **프로젝트 기획 및 방법론**: 바이브코딩 SSOT 완성
- [x] **개발 환경**: Next.js 15 + Prisma + NextAuth 완전 구축
- [x] **데이터베이스**: 6-Table 미니멀 설계 + 시드 데이터 완성
- [x] **UI 시스템**: shadcn/ui + 모바일 네비게이션 + 반응형 완성
- [x] **1주차 Foundation & Core Flow**: NextAuth, 기본 페이지, API ✅
- [x] **2주차 Business Logic & Gate System**: 서비스 데이, 게이트 시스템 ✅
- [x] **3주차 80% 완료**: 온보딩, Today 완성, History/Settings UI 구현 ✅

### 현재 상태: 베타 테스트 준비 완료 🚀
**핵심 MVP**: 로그인 → 온보딩 → 일일 질문/답변 → 게이트 공개 **100% 동작**  
**즉시 베타 가능**: 현재 상태로도 실제 가족이 사용 가능한 수준